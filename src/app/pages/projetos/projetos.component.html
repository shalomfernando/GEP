<style>
  .e-rowcell {
    font-size: 12px;
  }

</style>


<p-confirmDialog #cd header="Confirmação" icon="pi pi-info-circle">
  <p-footer>
    <button type="button" pButton icon="pi pi-times" class="ui-button-danger" label="Não"
            (click)="cd.reject()"></button>
    <button type="button" pButton icon="pi pi-check" class="ui-button-success" label="Sim"
            (click)="cd.accept()"></button>
  </p-footer>
</p-confirmDialog>
<p-toast [style]="{marginTop: '50px'}"></p-toast>
<p-card>
  <div class="row">
    <i class="pi pi-folder" style="font-size: 100px"></i>
    <h2 style="padding: 30px;">Projetos</h2>
  </div>
  <div>

    <ejs-grid [dataSource]="listaProjetos"
              [allowPaging]='true'
              [pageSettings]="pageOptions"
              [allowSorting]="true"
              [allowFiltering]="true"
              [filterSettings]='filterSettings'
              [editSettings]='editSettings'
              [toolbar]='toolbar'
              (actionBegin)='actionBegin($event)'
              (actionComplete)='actionComplete($event)'

    >
      <e-columns>
        <e-column field='id' headerText='ID' [visible]="false" width='50' textAlign='Left'></e-column>
        <e-column field='nome' headerText='NOME' width='100'></e-column>
        <e-column field='sigla' headerText='SIGLA' textAlign='Left' width='50'></e-column>
        <e-column field='descricao' headerText='DESCRIÇÃO' width='170'></e-column>
        <e-column field='objetivo' headerText='OBJETIVO' width='90'></e-column>
        <e-column headerText='AÇÕES' width=50 [commands]='commands'>
        </e-column>
      </e-columns>
      <ng-template #editSettingsTemplate let-data>
        <div ngForm #orderForm="ngForm">
          <div class="form-row">
            <div class="form-group col-md-12">
              <div class="e-float-input e-control-wrapper"
                   [ngClass]="{'e-error': id.invalid && (id.dirty || id.touched)}">
                <input [(ngModel)]="projeto.id" id="id" name="id" type="text"
                       [attr.disabled]="true" #id="ngModel">
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="id">ID</label>
              </div>
              <div id="IDError" *ngIf='id.invalid && (id.dirty || id.touched)'>
                <label class="e-error" id="id-info" style="display: block;">*ID é obrigatório.</label>
              </div>
              <div class="e-float-input e-control-wrapper"
                   [ngClass]="{'e-error': Nome.invalid && (Nome.dirty || Nome.touched)}">
                <input [(ngModel)]="projeto.nome" required id="Nome" name="Nome" type="text"
                       #Nome="ngModel">
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="Nome">Nome</label>
              </div>
              <div id="NomeError" *ngIf='Nome.invalid && (Nome.dirty || Nome.touched)'>
                <label class="e-error" id="Nome-info" style="display: block;">*Nome é obrigatório.</label>
              </div>

              <div class="e-float-input e-control-wrapper"
                   [ngClass]="{'e-error': sigla.invalid && (sigla.dirty || sigla.touched)}">
                <input [(ngModel)]="projeto.sigla" required id="sigla" name="sigla" type="text"
                       #sigla="ngModel">
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="sigla">Sigla</label>
              </div>
              <div id="SiglaError" *ngIf='sigla.invalid && (sigla.dirty || sigla.touched)'>
                <label class="e-error" id="Sigla-info" style="display: block;">*Sigla é obrigatório.</label>
              </div>

              <div class="e-float-input e-control-wrapper"
                   [ngClass]="{'e-error': descricao.invalid && (descricao.dirty || descricao.touched)}">
                <input [(ngModel)]="projeto.descricao" required id="descricao" name="descricao" type="text"
                       #descricao="ngModel">
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="descricao">Descricao</label>
              </div>
              <div id="DescricaoError" *ngIf='descricao.invalid && (descricao.dirty || descricao.touched)'>
                <label class="e-error" id="descricao-info" style="display: block;">*Descricao é obrigatório.</label>
              </div>

              <div class="e-float-input e-control-wrapper"
                   [ngClass]="{'e-error': objetivo.invalid && (objetivo.dirty || objetivo.touched)}">
                <input [(ngModel)]="projeto.objetivo" required id="objetivo" name="objetivo" type="text"
                       #objetivo="ngModel">
                <span class="e-float-line"></span>
                <label class="e-float-text e-label-top" for="objetivo">Objetivo</label>
              </div>
              <div id="ObjetivoError" *ngIf='objetivo.invalid && (objetivo.dirty || objetivo.touched)'>
                <label class="e-error" id="objetivo-info" style="display: block;">*Objetivo é obrigatório.</label>
              </div>
            </div>
          </div>
        </div>
      </ng-template>

    </ejs-grid>
  </div>
</p-card>
